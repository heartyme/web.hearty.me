"use strict";function hj_survey(t,e,i){let n=(e||$("body")).find("[data-gform]"),a=[];if(n.filter("[required]").each(function(){let t=$(this).is("[name]")?n.filter($("[name='"+$(this).attr("name")+"']")):$(this),e=hj_survey_val(t);null!=e&&e.length||a.push({e:t,t:t.attr("title")||""})}),n.filter("[minlength]").each(function(){let t=$(this).val().length;t>0&&t<Number($(this).attr("minlength"))&&a.push({e:$(this),t:$(this).attr("title")||""})}),n.filter("[maxlength]").each(function(){$(this).val().length>Number($(this).attr("maxlength"))&&a.push({e:$(this),t:$(this).attr("title")||""})}),n.filter('[type="email"]').each(function(){(!/@/.test($(this).val())||$(this).val().length<6)&&a.push({e:$(this),t:$(this).attr("title")||""})}),n.filter("[pattern]").each(function(){RegExp($(this).attr("pattern")).test(hj_survey_val($(this)))||a.push({e:$(this),t:$(this).attr("title")||""})}),a.length>0)return shake(a[0].e),a[0].e.focus(),a[0].t;let r={};return n.each(function(){let t=$(this).is("[name]")?n.filter($("[name='"+$(this).attr("name")+"']")):$(this),e=hj_survey_val(t);null!=e&&(r["entry."+$(this).attr("data-gform")]=e.trim())}),Object.keys(r).length>0&&(gform_post(t,r),"function"==typeof i&&i(1)),!0}function hj_survey_val(t){return t.is("[type='checkbox']")?t.map(function(){return $(this).filter(":checked").val()}).toArray().join(", "):t.is("[type='radio']")?t.filter(":checked").val():t.val()}function hj_survey_sortable_init(t){t.list.sortable({items:"> li",axis:"y",cursor:"row-resize",scroll:!0,placeholder:"dragging",create:function(){t.output.val(t.list.children("li").map(function(){return $(this).text()}).toArray().join(", "))},update:function(){t.output.val(t.list.children("li").map(function(){return $(this).text()}).toArray().join(", "))},change:function(){$("li.dragging").css({margin:0}).delay(10).queue(function(){$(this).css({margin:"10px auto"}).dequeue()})}}).disableSelection()}function hj_survey_checkbox_limit(t,e=3){let i=(t=t||$("[data-checkboxes]")).find("input[type='checkbox']"),n=i.filter(":checked").length;i.not(":checked").prop("disabled",n>=e)}function survey_notice(t,e){let i=$(".survey header .notice"),n=$(".survey .title");t?(n.hide(),i.attr("title",e).fadeIn("fast").delay(4e3).queue(function(){$(this).fadeOut("slow",function(){n.fadeIn("slow")}).dequeue()})):(i.hide(),n.fadeIn())}function survey_modified(t){t?window.onbeforeunload=null:window.onbeforeunload=function(){return"尚未送出表單"}}function survey_unlock(t,e){let i=$(".survey");if(t)for(let n=1;n<=e;n++)i.find("[data-unlock='"+n+"']").fadeIn();else for(let a=3;a>=e;a--)i.find("[data-unlock='"+a+"']").fadeOut()}function hj_survey_subscriber(){let t=$(".btns_action li");t.removeAttr("data-active");let e=hj_survey("1FAIpQLScZSsT5cp4Yf3B41LVbgD6sUMUpMqr6uXyVwR6Cx6Bf6C2l0A",$(".survey"),function(e){1===e?(survey_modified(!0),msg('<i class="fas fa-check-circle"></i> 感謝您的填寫與分享！ Thank you for filling it out and sharing!',"不客氣 OK",function(){self.location.href="//hearty.me"}),fb_evt_push(!1,"SubmitApplication")):(msg(),t.attr("data-active",""))});!0!==e&&(survey_notice(!0,"請填寫 Please check:「"+e+"」"),t.attr("data-active",""))}function hj_survey_stickers(){let t=$(".btns_action li");t.removeAttr("data-active");let e=hj_survey("1FAIpQLSfGrKLagX6BTqzHZjhqplVmaJaEn8YrGQ-HYA9YqwExHD7SMQ",$(".survey"),function(e){if(1===e){survey_modified(!0);let i='<i class="far fa-check-circle"></i> 感謝您的填寫與分享！ Thank you for filling it out and sharing!';$(".survey").html(i),msg(i,"OK"),$(window).scrollTop(0),fb_evt_push(!1,"SubmitApplication")}else msg(),t.attr("data-active","")});!0!==e&&(survey_notice(!0,"請填寫 Please fill:「"+e+"」"),t.attr("data-active",""))}$(function(){$(".survey header .notice").hide(),scroll2focused($(".survey")),hj_survey_sortable_init({list:$(".survey .sortable"),output:$("input[data-gform='403836374']")}),$(".survey [data-gform]").on("change",function(){survey_modified(!1)}),$(".survey [data-gform='497590971']").val(check_browser()+", "+check_OS()),survey_modified(!1)});